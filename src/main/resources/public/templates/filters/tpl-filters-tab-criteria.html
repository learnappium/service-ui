<div class="tab-filters clearfix" data-id="<%= data.id %>">
    <% var all = _.all(data.criteria, function(item) {
        return item.required == true
    }); %>
    <% if(data.criteria.length > 0 && !all) { %>
    <div class="btn-group criteria-btn">
        <button class="rp-btn rp-btn-with-dropdown rp-width-100 dropdown-toggle"
            data-toggle="dropdown"
            type="button">
            <span class="select-value"><%= data.text.filters.more %></span>
            <span class="rp-caret"></span>
        </button>
        <ul class="dropdown-menu filters-criteria">
            <% _.each(data.criteria, function(filter, index) { %>
                <% if(!filter.required && !filter.hideCriteria) { %>
                <li>
                    <a class="checkbox <%= filter.subFilter ? 'sub-option' : ''%>">
                        <label>
                            <input class="<%= filter.name %> criteria-option rp-input-checkbox"
                                data-id="<%= filter.id %>"
                                <% if(filter.visible) { %>checked<% } %>
                                type="checkbox" />
                            <span>
                                <%= filter.longName
                                    ? filter.longName
                                    : data.text.filterNameById[filter.id.escapeLessDirection()] %>
                            </span>
                        </label>
                    </a>
                </li>
                <% } %>
            <% }); %>
        </ul>
    </div>
    <% } %>
</div>
